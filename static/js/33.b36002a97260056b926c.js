webpackJsonp([33],{"76uA":function(t,e){},arUt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),c=n.n(a),s=n("BO1k"),i=n.n(s),o=n("3pLw"),r=(n("y1vT"),{data:function(){return{umAccount:"",username:"",channelMgrList:[],cAgencyno:"",cAgencyname:"",sellerList:[],cRulevalue:"",cBranchname:"",branchList:[],cContactno:"",cContactname:"",contactList:[]}},components:{filterSelect:n("8BiH").a},mounted:function(){},methods:{getChannelMgrList:function(t){var e=this;if(t){var n={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),username:t};o.a.post("/crm/sysuser/search",n).then(function(t){if("0000"===t.code){e.channelMgrList=[];var n=t.data.list,a=!0,c=!1,s=void 0;try{for(var o,r=i()(n);!(a=(o=r.next()).done);a=!0){var l=o.value;e.channelMgrList.push({key:l.umAccount,value:l.username})}}catch(t){c=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(c)throw s}}}}).catch(function(t){})}},getSellerList:function(t){var e=this;if(t){var n={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),agencyKey:t};o.a.post("/crm/nelcontact/searchAgency",n).then(function(t){if("0000"===t.code){e.sellerList=[];var n=t.data.list,a=!0,c=!1,s=void 0;try{for(var o,r=i()(n);!(a=(o=r.next()).done);a=!0){var l=o.value;e.sellerList.push({key:l.cAgencyno,value:l.cAgencyname})}}catch(t){c=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(c)throw s}}}}).catch(function(t){})}},getBranchList:function(t){var e=this;if(t){var n={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),backKey:t};o.a.post("/crm/nelcontact/searchBack",n).then(function(t){if("0000"===t.code){e.branchList=[];var n=t.data.list,a=!0,c=!1,s=void 0;try{for(var o,r=i()(n);!(a=(o=r.next()).done);a=!0){var l=o.value;e.branchList.push({key:l.cRulevalue,value:l.cBranchname})}}catch(t){c=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(c)throw s}}}}).catch(function(t){})}},getLContactist:function(t){var e=this;if(t){var n={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),cContactname:t};o.a.post("/crm/nelcontact/searchnelCon",n).then(function(t){if("0000"===t.code){e.contactList=[];var n=t.data.list,a=!0,c=!1,s=void 0;try{for(var o,r=i()(n);!(a=(o=r.next()).done);a=!0){var l=o.value;e.contactList.push({key:l.cContactno,value:l.cContactname})}}catch(t){c=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(c)throw s}}}}).catch(function(t){})}},listenIptValChg:function(t){this.username="",this.umAccount="",this.getChannelMgrList(t)},listenIptValChg2:function(t){this.cAgencyname="",this.cAgencyno="",this.getSellerList(t)},listenIptValChg3:function(t){this.cBranchname="",this.cRulevalue="",this.getBranchList(t)},listenIptValChg4:function(t){this.cContactname="",this.cContactno="",this.getLContactist(t)},selectChnage:function(t){this.umAccount=t.key,this.username=t.value},selectChnage2:function(t){this.cAgencyno=t.key,this.cAgencyname=t.value},selectChnage3:function(t){this.cRulevalue=t.value,this.cBranchname=t.value},selectChnage4:function(t){this.cContactno=t.key,this.cContactname=t.value},routerBack:function(){this.$router.go("-1")},checkContact:function(){var t=this.getDemandData();this.setSessionStorage("address-memory-index",c()({activeIndex:1})),this.setLocalStorage("address-book-condition",c()(t)),this.$router.push({path:"/crm/channelCustCon"})},checkVisit:function(){var t=this.getDemandData();this.setSessionStorage("address-memory-index",c()({activeIndex:2})),this.setLocalStorage("address-book-condition",c()(t)),this.$router.push({path:"/crm/channelCustCon"})},isSearchLegal:function(){return this.username&&!this.umAccount?(this.$message({duration:2e3,type:"warning",message:"渠道经理不匹配"}),!1):this.cAgencyname&&!this.cAgencyno?(this.$message({duration:2e3,type:"warning",message:"销售商不匹配"}),!1):this.cBranchname&&!this.cRulevalue?(this.$message({duration:2e3,type:"warning",message:"请选择下拉框中匹配分行/分公司"}),!1):!(this.cContactname&&!this.cContactno)||(this.$message({duration:2e3,type:"warning",message:"请选择下拉框中匹配联系人"}),!1)},getDemandData:function(){return{channelMrg:{umAccount:this.umAccount,username:this.umAccount?this.username:""},channelAgc:{cAgencyno:this.cAgencyno,cAgencyname:this.cAgencyno?this.cAgencyname:""},branch:{cRulevalue:this.cRulevalue,cBranchname:this.cRulevalue?this.cBranchname:""},contact:{cContactno:this.cContactno,cContactname:this.cContactno?this.cContactname:""}}}}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-cusmg-wrap pad10"},[n("div",{staticClass:"pad10 main-header"},[n("div",{staticClass:"main-body"},[n("el-form",{ref:"form",attrs:{"label-width":"6rem"}},[n("el-form-item",{attrs:{label:"渠道经理"}},[n("filter-select",{staticClass:"wid100pc",attrs:{placeholder:"请输入渠道经理名称",selectOptionData:t.channelMgrList},on:{listenIptValChange:t.listenIptValChg,change:t.selectChnage}})],1),t._v(" "),n("el-form-item",{attrs:{label:"销售商"}},[n("filter-select",{staticClass:"wid100pc",attrs:{placeholder:"请输入销售商名称",selectOptionData:t.sellerList},on:{listenIptValChange:t.listenIptValChg2,change:t.selectChnage2}})],1),t._v(" "),n("el-form-item",{attrs:{label:"分行/分公司"}},[n("filter-select",{staticClass:"wid100pc",attrs:{placeholder:"请输入分行/分公司名称",selectOptionData:t.branchList},on:{listenIptValChange:t.listenIptValChg3,change:t.selectChnage3}})],1),t._v(" "),n("el-form-item",{attrs:{label:"联系人"}},[n("filter-select",{staticClass:"wid100pc",attrs:{placeholder:"请输入联系人名称",selectOptionData:t.contactList},on:{listenIptValChange:t.listenIptValChg4,change:t.selectChnage4}})],1),t._v(" "),n("div",{staticClass:"btn-box"},[n("el-button",{on:{click:t.checkContact}},[t._v("查询通讯录")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.checkVisit}},[t._v("查询拜访记录")])],1)],1)],1)])])},staticRenderFns:[]};var h=n("VU/8")(r,l,!1,function(t){n("76uA")},"data-v-0d9804b2",null);e.default=h.exports}});