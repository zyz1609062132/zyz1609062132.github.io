webpackJsonp([15],{"0TBL":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),o=a.n(n),r=a("b8UZ"),s=a("3pLw"),i=a("KBWm"),c={computed:o()({},Object(r.b)(["date1","date2","date3"]),{teamScaleInfoDate1:function(){return this.date2},teamScaleInfoDate2:function(){return this.date3},teamIncomeInfoDate1:function(){return this.date2},teamIncomeInfoDate2:function(){return this.date3}}),watch:{teamScaleInfoDate1:function(e){this.$store.commit("date2",e)},teamScaleInfoDate2:function(e){this.$store.commit("date3",e)},teamIncomeInfoDate1:function(e){this.$store.commit("date2",e)},teamIncomeInfoDate2:function(e){this.$store.commit("date3",e)}},data:function(){var e=this;return{custName:this.$route.query.custName,custNo:this.$route.query.custNo,cStaffName:this.$route.query.cStaffName,cStaff:this.$route.query.cStaff,type:this.$route.query.type,currencyUnit:"10000",currencyUnit2:"10000",teamScaleInfoList:[],teamIncomeInfoList:[],dCDate:"",dBegindate:"",dCDate2:"",dBegindate2:"",pickerOptions1:{disabledDate:function(t){return e.teamScaleInfoDate1?t.getTime()>Date.now()||t.getTime()>e.teamScaleInfoDate2:t.getTime()>Date.now()}},pickerOptions2:{disabledDate:function(t){return t.getTime()<e.teamScaleInfoDate1||t.getTime()>Date.now()}},pickerOptions3:{disabledDate:function(t){return e.teamIncomeInfoDate1?t.getTime()>Date.now()||t.getTime()>e.teamIncomeInfoDate2:t.getTime()>Date.now()}},pickerOptions4:{disabledDate:function(t){return t.getTime()<e.teamIncomeInfoDate1||t.getTime()>Date.now()}},currPage1:1,pageSize1:50,totalSize1:1,currPage2:1,pageSize2:50,totalSize2:1,loading:null,sortName:"",sortStyle:"",incomeStaticObj:{}}},components:{currencyUnit:i.a},mounted:function(){},created:function(){this.getLocalStorage("unit")?(this.currencyUnit=this.getLocalStorage("unit"),this.currencyUnit2=this.getLocalStorage("unit")):(this.currencyUnit="100000000",this.currencyUnit2="100000000")},methods:{getSummaries:function(e){var t=this,a=e.columns,n=(e.data,[]);return a.forEach(function(e,a){0!==a?1!=a&&2!=a?3==a?n[a]=t.numFormat(t.incomeStaticObj.beginAssetSum/t.currencyUnit):4==a?n[a]=t.numFormat(t.incomeStaticObj.endAssetSum/t.currencyUnit):5==a?n[a]=t.numFormat(t.incomeStaticObj.fCurpurchaseSum/t.currencyUnit):6==a?n[a]=t.numFormat(t.incomeStaticObj.fCurredemptionSum/t.currencyUnit):7==a&&(n[a]=t.numFormat(t.incomeStaticObj.fNetPurchaseRedemptionSum/t.currencyUnit)):n[a]="":n[a]="合计"}),n},getSummaries2:function(e){var t=this,a=e.columns,n=(e.data,[]);return a.forEach(function(e,a){0!==a?1!=a&&2!=a?3==a&&(n[a]=t.numFormat(t.incomeStaticObj.fIncomeSum/t.currencyUnit2)):n[a]="":n[a]="合计"}),n},sortMethod:function(e){e.prop?(this.sortName=e.prop,"ascending"==e.order?this.sortStyle="up":"descending"==e.order?this.sortStyle="low":""==e.order&&(this.sortName="",this.sortStyle),this.checkTeamScaleInfoList()):(this.sortName="",this.sortStyle="",this.checkTeamScaleInfoList())},sortMethod2:function(e){e.prop?(this.sortName=e.prop,"ascending"==e.order?this.sortStyle="up":"descending"==e.order?this.sortStyle="low":""==e.order&&(this.sortName="",this.sortStyle),this.checkTeamIncomeInfoList()):(this.sortName="",this.sortStyle="",this.checkTeamIncomeInfoList())},handleCurrentChange1:function(e){this.currPage1=e,this.checkTeamScaleInfoList()},handleSizeChange1:function(e){this.pageSize1=e,this.currPage1=1,this.checkTeamScaleInfoList()},handleCurrentChange2:function(e){this.currPage2=e,this.checkTeamIncomeInfoList()},handleSizeChange2:function(e){this.pageSize2=e,this.currPage2=1,this.checkTeamIncomeInfoList()},changeTeamScaleInfoDate:function(e){this.checkTeamScaleInfoList()},changeTeamIncomeInfoDate:function(e){this.checkTeamIncomeInfoList()},checkTeamScaleInfoList:function(){var e=this;this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"});var t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),dBegindate:this.standardTime(this.teamScaleInfoDate1),dEnddate:this.standardTime(this.teamScaleInfoDate2),cStaff:this.$route.query.cStaff,sortStyle:this.sortStyle,sortName:this.sortName,page:this.currPage1,limit:this.pageSize1};s.a.post("/crm/team/selectCustomScale",t).then(function(t){"0000"===t.code&&t.data&&(e.teamScaleInfoList=t.data,e.totalSize1=t.totalCount,e.incomeStaticObj.beginAssetSum=t.beginAssetSum,e.incomeStaticObj.endAssetSum=t.endAssetSum,e.incomeStaticObj.fCurpurchaseSum=t.fCurpurchaseSum,e.incomeStaticObj.fCurredemptionSum=t.fCurredemptionSum,e.incomeStaticObj.fNetPurchaseRedemptionSum=t.fNetPurchaseRedemptionSum),setTimeout(function(){e.loading.close()},500)}).catch(function(t){setTimeout(function(){e.loading.close()},500)})},checkTeamIncomeInfoList:function(){var e=this;this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"});var t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),dBegindate:this.standardTime(this.teamIncomeInfoDate1),dEnddate:this.standardTime(this.teamIncomeInfoDate2),cStaff:this.$route.query.cStaff,sortStyle:this.sortStyle,sortName:this.sortName,page:this.currPage2,limit:this.pageSize2};s.a.post("/crm/team/selectCustomRevenuee",t).then(function(t){"0000"===t.code&&t.data.list&&(e.teamIncomeInfoList=t.data.list,e.totalSize2=t.totalCount,e.incomeStaticObj.fIncomeSum=t.fIncomeSum),setTimeout(function(){e.loading.close()},500)}).catch(function(t){setTimeout(function(){e.loading.close()},500)})},listenUnitChange:function(e){this.currencyUnit=e,this.setLocalStorage("unit",e)},listenUnitChange2:function(e){this.currencyUnit2=e,this.setLocalStorage("unit",e)},tableRowClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA;"},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #F5ECE1;"},renderheader:function(e,t){var a=t.column;t.$index;return e("span",{},[e("span",{},a.label.split("/")[0]),e("br"),e("span",{},a.label.split("/")[1])])},routerBack:function(e){e&&(this.setSessionStorage("tempacName",e),this.$router.go("-1"))}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"orgBusCustomerInfo-wrap pad10"},[n("div",{staticClass:"orgBusCustomerInfo-main"},[n("span",{staticClass:"orgBusCustomerInfo-main-back",on:{click:function(t){e.routerBack(e.type)}}},[n("img",{staticClass:"back-icon",attrs:{src:a("0YUB"),alt:""}}),e._v(" "),n("i",{staticStyle:{"padding-left":"5px",color:"#cf9f68"}},[e._v("返回")])]),e._v(" "),n("span",{staticClass:"orgBusCustomerInfo-main-title"},[e._v(e._s(this.cStaffName?this.cStaffName:"未知客户名称")+e._s("01"==this.type?"客户规模情况":"客户收入情况"))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"01"==this.type,expression:"this.type == '01'"}],staticClass:"orgBusCustomerInfo-main-body pad10"},[n("div",{staticClass:"tab-body-header"},[e._m(0),e._v(" "),n("div",{staticClass:"control-right"},[n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"开始日期","picker-options":e.pickerOptions1},on:{change:e.changeTeamScaleInfoDate},model:{value:e.teamScaleInfoDate1,callback:function(t){e.teamScaleInfoDate1=t},expression:"teamScaleInfoDate1"}}),e._v(" "),n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"结束日期","picker-options":e.pickerOptions2,disabled:""==e.teamScaleInfoDate1||null==e.teamScaleInfoDate1},on:{change:e.changeTeamScaleInfoDate},model:{value:e.teamScaleInfoDate2,callback:function(t){e.teamScaleInfoDate2=t},expression:"teamScaleInfoDate2"}}),e._v(" "),n("currency-unit",{attrs:{defaultCurrencyUnit:e.currencyUnit},on:{listenUnitChange:e.listenUnitChange}})],1)]),e._v(" "),n("div",{staticClass:"tab-body-main"},[n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"header-cell-style":e.tableHeaderColor,"row-class-name":e.tableRowClassName,stripe:"",data:e.teamScaleInfoList,"max-height":"500","summary-method":e.getSummaries,"show-summary":""},on:{"sort-change":e.sortMethod}},[n("el-table-column",{attrs:{label:"序号",align:"center",width:"50px",type:"index"}}),e._v(" "),n("el-table-column",{attrs:{property:"cCustname",label:"客户名称",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.cCustname?t.row.cCustname:"--"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"cFundname",label:"基金名称",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.cFundname?t.row.cFundname:"--"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"beginAsset",label:"期初规模",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.beginAsset?n("span",[e._v(e._s(t.row.beginAsset))]):n("span",[e._v(e._s(e.numFormat(t.row.beginAsset/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"endAsset",label:"期末规模",align:"center","render-header":e.renderheader,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.endAsset?n("span",[e._v(e._s(t.row.endAsset))]):n("span",[e._v(e._s(e.numFormat(t.row.endAsset/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fCurpurchase",label:"总申购",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.fCurpurchase?n("span",[e._v(e._s(t.row.fCurpurchase))]):n("span",[e._v(e._s(e.numFormat(t.row.fCurpurchase/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fCurredemption",label:"总赎回",align:"center","render-header":e.renderheader,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.fCurredemption?n("span",[e._v(e._s(t.row.fCurredemption))]):n("span",[e._v(e._s(e.numFormat(t.row.fCurredemption/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fNetPurchaseRedemption",label:"净申购",align:"center","render-header":e.renderheader,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.fNetPurchaseRedemption?n("span",[e._v(e._s(t.row.fNetPurchaseRedemption))]):n("span",[e._v(e._s(e.numFormat(t.row.fNetPurchaseRedemption/e.currencyUnit)))])]}}])})],1)],1),e._v(" "),e.teamScaleInfoList&&e.teamScaleInfoList.length>0?n("div",{staticClass:"tab-body-footer"},[n("el-pagination",{attrs:{"page-sizes":[15,30,50],"page-size":e.pageSize1,"current-page":e.currPage1,layout:"prev, pager, next, sizes",background:"",total:e.totalSize1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1):e._e()]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"02"==this.type,expression:"this.type == '02'"}],staticClass:"orgBusCustomerInfo-main-body pad10"},[n("div",{staticClass:"tab-body-header"},[e._m(1),e._v(" "),n("div",{staticClass:"control-right"},[n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"开始日期","picker-options":e.pickerOptions3},on:{change:e.changeTeamIncomeInfoDate},model:{value:e.teamIncomeInfoDate1,callback:function(t){e.teamIncomeInfoDate1=t},expression:"teamIncomeInfoDate1"}}),e._v(" "),n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"结束日期","picker-options":e.pickerOptions4,disabled:""==e.teamIncomeInfoDate1||null==e.teamIncomeInfoDate1},on:{change:e.changeTeamIncomeInfoDate},model:{value:e.teamIncomeInfoDate2,callback:function(t){e.teamIncomeInfoDate2=t},expression:"teamIncomeInfoDate2"}}),e._v(" "),n("currency-unit",{attrs:{defaultCurrencyUnit:e.currencyUnit2},on:{listenUnitChange:e.listenUnitChange2}})],1)]),e._v(" "),n("div",{staticClass:"tab-body-main"},[n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"header-cell-style":e.tableHeaderColor,"row-class-name":e.tableRowClassName,stripe:"",data:e.teamIncomeInfoList,"max-height":"500","summary-method":e.getSummaries2,"show-summary":""},on:{"sort-change":e.sortMethod2}},[n("el-table-column",{attrs:{label:"序号",align:"center",width:"50px",type:"index"}}),e._v(" "),n("el-table-column",{attrs:{property:"cCustname",label:"客户名称",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.cCustname?t.row.cCustname:"--"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"cFundname",label:"基金名称",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.cFundname?t.row.cFundname:"--"))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fIncome",label:"期间收入",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.fIncome?n("span",[e._v(e._s(t.row.fIncome))]):n("span",[e._v(e._s(e.numFormat(t.row.fIncome/e.currencyUnit2)))])]}}])})],1)],1),e._v(" "),e.teamIncomeInfoList&&e.teamIncomeInfoList.length>0?n("div",{staticClass:"tab-body-footer"},[n("el-pagination",{attrs:{"page-sizes":[15,30,50],"page-size":e.pageSize2,"current-page":e.currPage2,layout:"prev, pager, next, sizes",background:"",total:e.totalSize2},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"control-left"},[t("span",[this._v("详细信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"control-left"},[t("span",[this._v("详细信息")])])}]};var u=a("VU/8")(c,l,!1,function(e){a("kWm1")},"data-v-78dcfc59",null);t.default=u.exports},kWm1:function(e,t){}});