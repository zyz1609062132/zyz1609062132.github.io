webpackJsonp([19],{"7ZP6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),c=a.n(n),s=a("b8UZ"),i=(a("y1vT"),a("3pLw")),r=a("KBWm"),o=a("z/fv"),l=a("8BiH"),u={computed:c()({},Object(s.b)(["date1","date2","date3"])),watch:{agencyDate1:function(e){this.$store.commit("date2",e)},agencyDate2:function(e){this.$store.commit("date3",e)}},data:function(){var e=this;return{cFundName2:"",agencyDate1:"",agencyDate2:"",pickerOptions3:{disabledDate:function(t){return e.agencyDate1?t.getTime()>Date.now()||t.getTime()>e.agencyDate2:t.getTime()>Date.now()}},pickerOptions4:{disabledDate:function(t){return t.getTime()<e.agencyDate1||t.getTime()>Date.now()}},cFundcode:"",cFundcode2:"",currencyUnit2:"100000000",aggencySellData:[],loading:null,cAgencyclassList:[],cAgencyclass:"",page2:1,limit2:50,totalSize2:1,tableHet2:500,sortName:"",sortStyle:"",sellerScaleStaticObj:{}}},components:{currencyUnit:r.a,custType:o.a,filterSelect:l.a},created:function(){this.getLocalStorage("unit")?this.currencyUnit2=this.getLocalStorage("unit"):this.currencyUnit2="100000000"},mounted:function(){var e=this.$route.query.cFundCode,t=this.$route.query.cFundName;this.agencyDate1=this.date2,this.agencyDate2=this.date3,this.cAgencyclass=this.$route.query.cAgencyclass,e&&(this.cFundcode2=e,this.cFundName2=t,this.getAgencysellList(),this.getCAgencyclassList())},methods:{getSummaries:function(e){var t=this,a=e.columns,n=(e.data,[]);return a.forEach(function(e,a){0!==a?1!=a?2==a?n[a]=t.numFormat(t.sellerScaleStaticObj.beginFAssetSum/t.currencyUnit2):3==a?n[a]=t.numFormat(t.sellerScaleStaticObj.endFAssetSum/t.currencyUnit2):4==a?n[a]=t.numFormat(t.sellerScaleStaticObj.fCurpurchaseSum/t.currencyUnit2):5==a?n[a]=t.numFormat(t.sellerScaleStaticObj.fCurredemptionSum/t.currencyUnit2):6==a&&(n[a]=t.numFormat(t.sellerScaleStaticObj.fNetPurchaseRedemptionSum/t.currencyUnit2)):n[a]="":n[a]="合计"}),n},sortMethod:function(e){e.prop?(this.sortName=e.prop,"ascending"==e.order?this.sortStyle="up":"descending"==e.order?this.sortStyle="low":""==e.order&&(this.sortName="",this.sortStyle),this.getAgencysellList()):(this.sortName="",this.sortStyle="",this.getAgencysellList())},getCAgencyclassList:function(){var e=this,t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),page:1,limit:1e3};i.a.post("/crm/fund/agencyTypeFundInfo",t).then(function(t){"0000"==t.code&&(e.cAgencyclassList=t.data.list)}).catch(function(e){})},listencAgencyclassChange:function(){this.getAgencysellList()},goToDetail:function(e){var t=this,a={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),cCrmagencyno:e.row.cCrmagencyno};i.a.post("/crm/fund/querycBranchsByAgency",a).then(function(a){if("0000"==a.code)if(0==a.data.branchs.length)t.$message({message:"所选销售商不存在下级分行/分公司!",type:"info"});else{t.standardTime(t.agencyDate1),t.standardTime(t.agencyDate2);t.$router.push({path:"/crm/fundSellerBranchPage",query:{cFundName:t.cFundName2,cFundCode:t.$route.query.cFundCode,cAgencyclass:t.$route.query.cAgencyclass,cCrmagencyno:e.row.cCrmagencyno}})}}).catch(function(e){})},getAgencysellList:function(){var e=this;this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"});var t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),dBegindate:this.standardTime(this.agencyDate1),dEnddate:this.standardTime(this.agencyDate2),cFundCode:this.cFundcode2,cAgencyclass:this.cAgencyclass,sortStyle:this.sortStyle,sortName:this.sortName,page:this.page2,limit:this.limit2};i.a.post("/crm/fund/salesManFundInfo",t).then(function(t){if("0000"==t.code){e.totalSize2=t.data.totalCount,e.aggencySellData=t.data.list;var a=window.innerWidth>1200?200:250;e.tableHet2=window.innerHeight-a,e.sellerScaleStaticObj.beginFAssetSum=t.data.beginFAssetSum,e.sellerScaleStaticObj.endFAssetSum=t.data.endFAssetSum,e.sellerScaleStaticObj.fCurpurchaseSum=t.data.fCurpurchaseSum,e.sellerScaleStaticObj.fCurredemptionSum=t.data.fCurredemptionSum,e.sellerScaleStaticObj.fNetPurchaseRedemptionSum=t.data.fNetPurchaseRedemptionSum}e.loading.close()}).catch(function(t){e.loading.close()})},listenUnitChange2:function(e){this.currencyUnit2=e,this.setLocalStorage("unit",e)},DateChange2:function(e){this.getAgencysellList()},handleCurrentChange2:function(e){this.page2=e,this.getAgencysellList()},handleSizeChange2:function(e){this.limit2=e,this.getAgencysellList()},routerBack:function(){this.$router.go("-1")}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-fund-chg"},[n("div",{staticClass:"main padL10 padR10"},[n("span",{staticClass:"main-back",on:{click:e.routerBack}},[n("img",{staticClass:"back-icon",attrs:{src:a("0YUB"),alt:""}})]),e._v(" "),n("div",{staticClass:"header-con"},[n("div",{staticClass:"hidden header"},[n("span",{staticClass:"left ft18 linehet45 blod"},[e._v(e._s(e.cFundName2)+"(基金)各销售商销售数据")]),e._v(" "),n("span",{staticClass:"right rightMedia"},[n("el-select",{staticClass:"withoutBorder short",attrs:{placeholder:"销售商类型"},on:{change:e.listencAgencyclassChange},model:{value:e.cAgencyclass,callback:function(t){e.cAgencyclass=t},expression:"cAgencyclass"}},e._l(e.cAgencyclassList,function(e){return n("el-option",{key:e.cAgencyclass,attrs:{label:e.cAgencyclassName,value:e.cAgencyclass}})})),e._v(" "),n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"开始日期","picker-options":e.pickerOptions3},on:{change:e.DateChange2},model:{value:e.agencyDate1,callback:function(t){e.agencyDate1=t},expression:"agencyDate1"}}),e._v(" "),n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"结束日期","picker-options":e.pickerOptions4,disabled:""==e.agencyDate1||null==e.agencyDate1},on:{change:e.DateChange2},model:{value:e.agencyDate2,callback:function(t){e.agencyDate2=t},expression:"agencyDate2"}}),e._v(" "),n("currency-unit",{attrs:{defaultCurrencyUnit:e.currencyUnit2},on:{listenUnitChange:e.listenUnitChange2}})],1)])]),e._v(" "),n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.aggencySellData,"max-height":e.tableHet2,"summary-method":e.getSummaries,"show-summary":""},on:{"sort-change":e.sortMethod}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{property:"cAgencyName",label:"销售商",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(a){e.goToDetail(t)}}},[e._v(e._s(t.row.cAgencyName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"beginFAsset",label:"期初规模",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(a){e.goToDetail(t)}}},[e._v(e._s(e.numFormat(t.row.beginFAsset/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"endFAsset",label:"期末规模",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(a){e.goToDetail(t)}}},[e._v(e._s(e.numFormat(t.row.endFAsset/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fCurpurchase",label:"总申购",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(a){e.goToDetail(t)}}},[e._v(e._s(e.numFormat(t.row.fCurpurchase/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fCurredemption",label:"总赎回",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(a){e.goToDetail(t)}}},[e._v(e._s(e.numFormat(t.row.fCurredemption/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fNetPurchaseRedemption",label:"净申购",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(a){e.goToDetail(t)}}},[e._v(e._s(e.numFormat(t.row.fNetPurchaseRedemption/e.currencyUnit2)))])]}}])})],1)],1),e._v(" "),e.aggencySellData.length>0?n("div",{staticClass:"pag-con"},[n("el-pagination",{attrs:{"page-sizes":[15,30,50],"page-size":e.limit2,"current-page":e.page2,layout:"prev, pager, next, sizes",background:"",total:e.totalSize2},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1):e._e()])])},staticRenderFns:[]};var d=a("VU/8")(u,g,!1,function(e){a("OvIJ")},"data-v-62753ca6",null);t.default=d.exports},OvIJ:function(e,t){}});