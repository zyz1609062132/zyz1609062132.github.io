webpackJsonp([12],{JSP6:function(e,t){},X6d5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("BO1k"),c=n.n(a),l=n("Dd8w"),s=n.n(l),i=n("b8UZ"),r=n("3pLw"),o=n("KBWm"),u=n("z/fv"),d={data:function(){var e=this;return{isShow:!0,labelOfTheFund:[],arr:"",cFundcode:"",scaleDate:"",date:"",currencyUnit:"100000000",currencyUnit2:"100000000",currencyUnit3:"100000000",publicScale:0,publicScaleTableData:[],zhuanhuTitle:"基金类型",specFundTableData:[],isManager:"1",magAndPro:[{key:"1",value:"基金类型"},{key:"2",value:"管理人"}],publicScaleChangeDate1:"",publicScaleChangeDate2:"",pickerOptions1:{disabledDate:function(t){return e.agencyDate1?t.getTime()>Date.now()||t.getTime()>e.agencyDate2:t.getTime()>Date.now()}},pickerOptions2:{disabledDate:function(t){return t.getTime()<e.agencyDate1||t.getTime()>Date.now()}},cCustclass:"",publicChangeTableData:[],loading:null}},components:{currencyUnit:o.a,custType:u.a},mounted:function(){this.getEnterDate()},watch:{scaleDate:function(e){this.$store.commit("date1",e)},publicScaleChangeDate1:function(e){this.$store.commit("date2",e)},publicScaleChangeDate2:function(e){this.$store.commit("date3",e)}},computed:s()({},Object(i.b)(["date1","date2","date3"]),{totalunit:function(){switch(this.currencyUnit){case"100000000":return"亿元";case"10000":return"万元";case"1":return"元";default:return"亿元"}}}),created:function(){this.getLocalStorage("unit")?this.currencyUnit=this.getLocalStorage("unit"):this.currencyUnit="100000000"},filters:{format:function(e){return new Date(e).getFullYear()+"-"+new Date(e).getMonth()+"-"+new Date(e).getDate()}},methods:{openPicker:function(){this.$refs.picker.open()},getSummaries:function(e){var t=this,n=e.columns,a=e.data,c=[];return n.forEach(function(e,n){if(0!==n)if(1!=n){var l=a.filter(function(e){return"0"==e.cFundclass||"feiHuo"==e.cFundclass}).map(function(t){return Number(t[e.property])});if(l.every(function(e){return isNaN(e)}))c[n]="N/A";else{var s=l.reduce(function(e,a){return 5==n?e+a:e+a/t.currencyUnit},0);c[n]=5==n?s:t.numFormat(s)}}else c[n]="";else c[n]="合计"}),c},getSummaries2:function(e){var t=this,n=e.columns,a=e.data,c=[];return n.forEach(function(e,n){if(0!==n)if(1!=n){var l=a.map(function(t){return Number(t[e.property])});if(l.every(function(e){return isNaN(e)}))c[n]="N/A";else{var s=l.reduce(function(e,a){return 5==n?e+a:e+a/t.currencyUnit2},0);c[n]=5==n?s:t.numFormat(s)}}else c[n]="";else c[n]="合计"}),c},getSummaries3:function(e){var t=this,n=e.columns,a=e.data,c=[];return n.forEach(function(e,n){if(0!==n)if(1!=n){var l=a.filter(function(e){return"0"==e.cFundclass||"feiHuo"==e.cFundclass}).map(function(t){return Number(t[e.property])});if(l.every(function(e){return isNaN(e)}))c[n]="N/A";else{var s=l.reduce(function(e,n){return e+n/t.currencyUnit3},0);c[n]=t.numFormat(s)}}else c[n]="";else c[n]="合计"}),c},getLabelOfTheFund:function(){var e=this,t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username")};r.a.post("/crm/acrmfundinfo/label",t).then(function(t){"0000"===t.code&&(e.labelOfTheFund=t.data.list,document.getElementById("main").style.overflowY="hidden")}).catch(function(e){})},checkedBox:function(e){this.arr=e,this.$router.push({path:"/crm/fundScale",query:{arr:this.arr}})},checkThisShowMore:function(){document.getElementById("main").style.height="100%",this.isShow=!1,document.getElementById("main").style.overflowY="scroll"},checkThisShowLess:function(){document.getElementById("main").style.height="3.5rem",this.isShow=!0;var e=document.getElementById("main");e.scrollTop=0,e.style.overflowY="hidden"},selectChange:function(e){this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"}),this.isManager=e,this.specFundTableData=[],this.getSpecialFund()},getEnterDate:function(){this.scaleDate=this.date1,this.publicScaleChangeDate1=this.date2,this.publicScaleChangeDate2=this.date3,this.getPublicScale(),this.getSpecialFund(),this.getScaleChangeList(),this.getLabelOfTheFund()},getPublicScale:function(){var e=this;this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"});var t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),dCDate:this.scaleDate};r.a.post("/crm/fund/selectFundscale",t).then(function(t){if("0000"==t.code){var n=t.data.list;e.publicScale=0,n.length>0?e.setFundScaleData(n):e.publicScaleTableData=[]}else e.publicScaleTableData=[];e.loading.close()}).catch(function(t){e.loading.close()})},getSpecialFund:function(){var e=this;this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"});var t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),cFundclass:this.isManager,dCDate:this.scaleDate};r.a.post("/crm/fund/selectSpecialFundscale",t).then(function(t){"0000"==t.code?e.specFundTableData=t.data.list:e.specFundTableData=[],e.loading.close()}).catch(function(t){e.loading.close()})},setFundScaleData:function(e){var t=[],n=[],a=[],l=[],s=[],i=[],r=[],o=!0,u=!1,d=void 0;try{for(var h,f=c()(e);!(o=(h=f.next()).done);o=!0){var p=h.value;"0"!=p.cFundclass?"1"!=p.cFundclass?"4"!=p.cFundclass?"3"!=p.cFundclass?"2"!=p.cFundclass?"5"!=p.cFundclass||r.push(p):i.push(p):s.push(p):l.push(p):a.push(p):n.push(p)}}catch(e){u=!0,d=e}finally{try{!o&&f.return&&f.return()}finally{if(u)throw d}}var g={cFundclassDesc:"非货基金",cFundclass:"feiHuo",fTotalScale:0,fEnterPriseScale:0,fRetailScale:0,fundCount:0,num:0},m=!0,b=!1,v=void 0;try{for(var y,S=c()(e);!(m=(y=S.next()).done);m=!0){var C=y.value,_=C.cFundclass;"1"!=_&&"2"!=_&&"3"!=_&&"5"!=_||(C.isFeihuo=!0,g.num++,g.fTotalScale+=Number(C.fTotalScale),g.fEnterPriseScale+=Number(C.fEnterPriseScale),g.fRetailScale+=Number(C.fRetailScale),g.fundCount+=Number(C.fundCount)),t.push(C),this.publicScale+=Number(C.fTotalScale)}}catch(e){b=!0,v=e}finally{try{!m&&S.return&&S.return()}finally{if(b)throw v}}t=g.num>0?[].concat(n,[g],a,l,s,i,r):[].concat(n,a,l,s,i,r),this.publicScaleTableData=t},getScaleChangeList:function(){var e=this;this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"});var t={token:this.getLocalStorage("token"),h5loginusername:this.getLocalStorage("username"),dBegindate:this.standardTime(this.publicScaleChangeDate1),dEnddate:this.standardTime(this.publicScaleChangeDate2),cCustType:this.cCustclass};r.a.post("/crm/fund/fundScaleChangedInfo",t).then(function(t){if("0000"==t.code){var n=t.data.list;n&&n.length>0?e.setScaleChangeData(n):e.publicChangeTableData=[]}e.loading.close()}).catch(function(t){e.loading.close()})},setScaleChangeData:function(e){var t=[],n=[],a=[],l=[],s=[],i=[],r=[],o=!0,u=!1,d=void 0;try{for(var h,f=c()(e);!(o=(h=f.next()).done);o=!0){var p=h.value;"0"!=p.cFundclass?"1"!=p.cFundclass?"4"!=p.cFundclass?"3"!=p.cFundclass?"2"!=p.cFundclass?"5"!=p.cFundclass||r.push(p):i.push(p):s.push(p):l.push(p):a.push(p):n.push(p)}}catch(e){u=!0,d=e}finally{try{!o&&f.return&&f.return()}finally{if(u)throw d}}var g={cFundclassDesc:"非货基金",cFundclass:"feiHuo",beginFAsset:0,endFAsset:0,fCurpurchase:0,fCurredemption:0,fNetPurchaseRedemption:0,num:0},m=!0,b=!1,v=void 0;try{for(var y,S=c()(e);!(m=(y=S.next()).done);m=!0){var C=y.value,_=C.cFundclass;"1"!=_&&"2"!=_&&"3"!=_&&"5"!=_||(C.isFeihuo=!0,g.num++,g.beginFAsset+=Number(C.beginFAsset),g.endFAsset+=Number(C.endFAsset),g.fCurpurchase+=Number(C.fCurpurchase),g.fCurredemption+=Number(C.fCurredemption),g.fNetPurchaseRedemption+=Number(C.fNetPurchaseRedemption))}}catch(e){b=!0,v=e}finally{try{!m&&S.return&&S.return()}finally{if(b)throw v}}t=g.num>0?[].concat(n,[g],a,l,s,i,r):[].concat(n,a,l,s,i,r),this.publicChangeTableData=t},scaleDateChange:function(e){this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"}),this.getPublicScale(),this.getSpecialFund()},dateChange:function(e){this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"}),this.getScaleChangeList()},tableCellClassName:function(e){if(1==e.columnIndex&&e.row.isFeihuo)return"is-right"},listenUnitChange:function(e){this.currencyUnit=e,this.setLocalStorage("unit",e)},listenUnitChange2:function(e){this.currencyUnit2=e,this.setLocalStorage("unit",e)},listenUnitChange3:function(e){this.currencyUnit3=e,this.setLocalStorage("unit",e)},listenCustomTypeChange:function(e){this.loading=this.$loading({lock:!0,text:"正在加载...",spinner:"",background:"rgba(255, 255, 255, 0.6)"}),this.cCustclass="ALL"==e?"":e,this.getScaleChangeList()},goToDetail:function(e,t){if("feiHuo"!==e.row.cFundclass)if(1==t)this.$router.push({path:"/crm/fundScale",query:{cFundclass:e.row.cFundclass}});else if(2==t){this.postMsgToClient({url:"/crm/channelReport",pageNo:"39"}),this.setSessionStorage("report-memory-index","2"),this.$router.push({path:"/crm/channelReport",query:{cFundclass:e.row.cFundclass}})}}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"v-home-home pointer backWhite mar10 pad10",attrs:{id:"sectionCon"}},[n("div",{staticClass:"marBtm10"},[n("div",{staticClass:"hidden con"},[n("span",{staticClass:"left ft18 linehet45 blod"},[e._v("公募基金规模情况")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.publicScale,expression:"publicScale"}],staticClass:"totalScale linehet45"},[e._v("\n        （总规模：\n        "),n("span",{staticClass:"themecolor"},[e._v(e._s(e.numFormat(e.publicScale.toString()/e.currencyUnit)))]),e._v("\n        "+e._s(e.totalunit)+"）\n      ")]),e._v(" "),n("span",{staticClass:"right"},[n("el-date-picker",{staticClass:"datepicker withoutBorder",attrs:{type:"date",placeholder:"选择日期"},on:{change:e.scaleDateChange},model:{value:e.scaleDate,callback:function(t){e.scaleDate=t},expression:"scaleDate"}}),e._v(" "),n("currency-unit",{attrs:{defaultCurrencyUnit:e.currencyUnit},on:{listenUnitChange:e.listenUnitChange}})],1)]),e._v(" "),n("div",{staticClass:"hidden"},[n("el-table",{staticStyle:{width:"100%"},attrs:{"cell-class-name":e.tableCellClassName,stripe:"",data:e.publicScaleTableData,"summary-method":e.getSummaries,"show-summary":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{property:"cFundclassDesc",label:"基金类型",align:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,1)}}},[e._v(e._s(t.row.cFundclassDesc))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fTotalScale",label:"总规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,1)}}},[e._v(e._s(e.numFormat(t.row.fTotalScale/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fEnterPriseScale",label:"机构客户规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,1)}}},[e._v(e._s(e.numFormat(t.row.fEnterPriseScale/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fRetailScale",label:"个人客户规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,1)}}},[e._v(e._s(e.numFormat(t.row.fRetailScale/e.currencyUnit)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fundCount",label:"基金数量（只）",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,1)}}},[e._v(e._s(t.row.fundCount))])]}}])})],1)],1)]),e._v(" "),n("div",{staticClass:"marBtm10"},[n("div",{staticClass:"hidden con"},[n("span",{staticClass:"left ft18 linehet45 blod",on:{click:function(t){e.$router.push({path:"/crm/test"})}}},[e._v("其他类型统计")]),e._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"more"},[1==e.isShow?n("el-button",{on:{click:e.checkThisShowMore}},[e._v("显示更多"+e._s(this.labelOfTheFund.length)+"个标签")]):n("el-button",{on:{click:e.checkThisShowLess}},[e._v("收起")])],1)])]),e._v(" "),n("div",{staticClass:"hidden"},[n("ul",{staticClass:"box",attrs:{id:"main"}},e._l(e.labelOfTheFund,function(t,a){return n("li",{class:{checked:e.arr.includes(t)},on:{click:function(n){e.checkedBox(t)}}},[e._v(e._s(t))])}))])]),e._v(" "),n("div",{staticClass:"marBtm10"},[n("div",{staticClass:"hidden con"},[n("span",{staticClass:"left ft18 linehet45 blod"},[e._v("专户规模情况")]),e._v(" "),n("span",{staticClass:"right"},[n("el-select",{staticClass:"magerwid needEnter",on:{change:e.selectChange},model:{value:e.isManager,callback:function(t){e.isManager=t},expression:"isManager"}},e._l(e.magAndPro,function(e){return n("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),e._v(" "),n("currency-unit",{attrs:{defaultCurrencyUnit:e.currencyUnit2},on:{listenUnitChange:e.listenUnitChange2}})],1)]),e._v(" "),n("div",{staticClass:"hidden"},[n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.specFundTableData,"summary-method":e.getSummaries2,"show-summary":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{property:"cFundclassDesc",label:"2"==e.isManager?"管理人":"基金类型",align:"left"}}),e._v(" "),n("el-table-column",{attrs:{property:"fTotalScale",label:"总规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.numFormat(t.row.fTotalScale/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fEnterPriseScale",label:"机构客户规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.numFormat(t.row.fEnterPriseScale/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fRetailScale",label:"个人客户规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.numFormat(t.row.fRetailScale/e.currencyUnit2)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fundCount",label:"基金数量（只）",align:"center"}})],1)],1)]),e._v(" "),n("div",{staticClass:"marBtm10"},[n("div",{staticClass:"hidden con"},[n("span",{staticClass:"left ft18 linehet45 blod"},[e._v("公募规模变动情况")]),e._v(" "),n("span",{staticClass:"right"},[n("cust-type",{staticClass:"withoutBorder",attrs:{type:"10030"},on:{listenCustomTypeChange:e.listenCustomTypeChange}}),e._v(" "),n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"开始日期","picker-options":e.pickerOptions1},on:{change:e.dateChange},model:{value:e.publicScaleChangeDate1,callback:function(t){e.publicScaleChangeDate1=t},expression:"publicScaleChangeDate1"}}),e._v(" "),n("el-date-picker",{staticClass:"withoutBorder short",attrs:{type:"date",placeholder:"结束日期","picker-options":e.pickerOptions2,disabled:""==e.publicScaleChangeDate1||null==e.publicScaleChangeDate1},on:{change:e.dateChange},model:{value:e.publicScaleChangeDate2,callback:function(t){e.publicScaleChangeDate2=t},expression:"publicScaleChangeDate2"}}),e._v(" "),n("currency-unit",{attrs:{defaultCurrencyUnit:e.currencyUnit3},on:{listenUnitChange:e.listenUnitChange3}})],1)]),e._v(" "),n("div",{staticClass:"hidden"},[n("el-table",{staticStyle:{width:"100%"},attrs:{"cell-class-name":e.tableCellClassName,stripe:"",data:e.publicChangeTableData,"summary-method":e.getSummaries3,"show-summary":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{property:"cFundclassDesc",label:"基金类型",align:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,2)}}},[e._v(e._s(t.row.cFundclassDesc))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"beginFAsset",label:"期初规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,2)}}},[e._v(e._s(e.numFormat(t.row.beginFAsset/e.currencyUnit3)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"endFAsset",label:"期末规模",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,2)}}},[e._v(e._s(e.numFormat(t.row.endFAsset/e.currencyUnit3)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fCurpurchase",label:"总申购",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,2)}}},[e._v(e._s(e.numFormat(t.row.fCurpurchase/e.currencyUnit3)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fCurredemption",label:"总赎回",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,2)}}},[e._v(e._s(e.numFormat(t.row.fCurredemption/e.currencyUnit3)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"fNetPurchaseRedemption",label:"净申购",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{on:{click:function(n){e.goToDetail(t,2)}}},[e._v(e._s(e.numFormat(t.row.fNetPurchaseRedemption/e.currencyUnit3)))])]}}])})],1)],1)])])},staticRenderFns:[]};var f=n("VU/8")(d,h,!1,function(e){n("JSP6")},"data-v-7d79ce19",null);t.default=f.exports}});